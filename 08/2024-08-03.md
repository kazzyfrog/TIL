---
date created: 2024-08-03, 00:16
date modified: 2024-08-04, 02:53
---

## やったこと

共同プロジェクトのアイデア出し・調査

- ステッカー、ステッカーショップ、suzuri、CSS イラストなど、様々な方向性で調べた
- Git のコンフリクトが発生するケースと、コンフリクトが発生せずに Git の内部動作として自動的にマージできるケースを確認した

## コメント

あまり進みが良くないこともあって、久しぶりに、時間をとって調べごとなどを中心にやった日。
あとで読もうと思っていた記事なども一通り消化した！
明日は、手を動かす系の作業する！

## 学び

GitHub で、同じファイルの同じ場所に、ほぼ同じタイミングで２人のユーザーが、変更を加えて PR 出した際に、今まではコンフリクトを解消していた。
しかし、今日、OSS での PR ではコンフリクトが発生しなかった。。不思議。

そう思って調べた。

結果、おそらく、新規で追加する行のみに変更を追加した場合は、
Git の内部動作として、自動的にマージが行われている可能性が高い！

ーーー
以下、GTP より

トリビアルなマージと Git のスマートマージについて、具体例を交えて詳しく解説します。

### トリビアルなマージ

**トリビアルなマージ**とは、Git が自動的に変更をマージできるような簡単なケースを指します。この場合、同じファイルに対する変更があっても、それが別々の部分であれば Git は問題なくマージを行います。

#### 具体例

**例 1: 異なるファイルへの変更**

- 開発者 A は、`file1.txt` を編集して以下のようにします：

  ```plaintext
  Line 1
  Line 2 (modified by A)
  Line 3
  ```

- 開発者 B は、`file2.txt` を編集して以下のようにします：

  ```plaintext
  Line 1
  Line 2 (modified by B)
  Line 3
  ```

  この場合、A と B の変更は異なるファイルに対するものなので、Git は自動的にマージを行います。

**例 2: 同じファイルの異なる行への変更**

- 開発者 A が、`file.txt` の行 1 を変更します：

  ```plaintext
  Line 1 (modified by A)
  Line 2
  Line 3
  ```

- 開発者 B が、`file.txt` の行 3 を変更します：

  ```plaintext
  Line 1
  Line 2
  Line 3 (modified by B)
  ```

  この場合も、A と B の変更は同じファイル内の異なる行に対するものなので、Git はこれを自動的にマージします。

### Git のスマートマージ

**Git のスマートマージ**とは、Git の内部アルゴリズムが複数の変更を解析して自動的にマージする能力を指します。これは、履歴や変更内容をもとに複雑な変更でもコンフリクトを起こさずにマージできる場合があることを意味します。

#### 具体例

**例: 同じ関数内の異なる部分の変更**

- 開発者 A は、`function()` の中で新しい変数を追加します：

  ```python
  def function():
      a = 10  # Added by A
      print("Hello World")
  ```

- 開発者 B は、同じ `function()` の中で print 文を変更します：

  ```python
  def function():
      print("Hello Universe")  # Modified by B
  ```

  この場合、Git は `function()` 内の変更が異なる部分にあると認識し、自動的に以下のようにマージします：

  ```python
  def function():
      a = 10  # Added by A
      print("Hello Universe")  # Modified by B
  ```

Git のスマートマージは、複雑な変更を効率的に統合するために設計されていますが、開発者が意図しない変更や潜在的なバグを引き起こす可能性があるため、注意が必要です。

### 注意点

- **意図しない結果**: 自動マージされた結果が期待通りであることを確認する必要があります。特に、同じファイルの異なる行であっても、変更が依存関係にある場合、手動での確認が重要です。

- **コンフリクトが発生するケース**: もし同じ行に対して異なる変更が行われた場合、Git はコンフリクトを発生させます。この場合は手動でコンフリクトを解消する必要があります。

これらのマージ機能を活用することで、開発者は効率的に共同作業を進めることができますが、常に変更内容の確認を怠らないようにすることが重要です。

また、
トリビアルなマージと Git のスマートマージの違いは、主に以下のように整理できます。

### トリビアルなマージ

**トリビアルなマージ**は、Git がコンフリクトを起こさずに自動でマージできる、比較的単純な変更を指します。具体的には、以下のようなケースが該当します。

1. **異なるファイルへの変更**:

   - 二人の開発者が別々のファイルに変更を加えた場合、ファイル同士の間に依存関係がないため、自動的にマージされます。

2. **同じファイルの異なる行への変更**:
   - 同じファイルに対する変更であっても、異なる行や異なる関数への変更であれば、Git はそれを自動的に統合します。

#### 特徴

- **簡単な変更**が対象。
- **明確なコンフリクト**が発生しない。

### Git のスマートマージ

**Git のスマートマージ**は、Git が内部のアルゴリズムを使ってより複雑な変更を自動的にマージする能力を指します。スマートマージは、以下のようなケースで有効です。

1. **履歴解析に基づくマージ**:

   - Git は変更履歴を解析して、変更が互いに干渉しないかを判断します。例えば、二つの変更が関数の異なるセクションである場合、それを自動で統合できます。

2. **複雑な変更の解析**:
   - 同じファイルや同じ関数内であっても、変更の依存関係を考慮して、どのように統合すれば最も合理的かを判断します。

#### 特徴

- **より高度な解析**に基づく。
- 複雑なケースでの**マージ能力**を持つ。

### 違いのまとめ

- **複雑さの違い**: トリビアルなマージはシンプルな変更に限られるのに対し、スマートマージは複雑な変更にも対応可能です。
- **解析の深さ**: スマートマージは、変更履歴やコードの構造を深く解析して、最も合理的なマージを行います。
- **適用される場面**: トリビアルなマージは直感的に明白なケースに使われますが、スマートマージはより高度な知識を要するケースに適用されます。

いずれの場合も、Git がマージを自動で行うため、開発者はその結果を確認し、必要に応じて手動で調整することが重要です。トリビアルなマージは単純なケースに限られますが、スマートマージは、より複雑で微妙な調整を必要とする場面に対応できるのが特徴です。

## その他参考

[【謹賀新年 🎍】寅の絵を描いて CSS 初めしよう！](https://zenn.dev/knknk98/articles/bc586fdfcb6d5e)

[CSS お絵かき初心者がキャラクターのイラストを描いてみた - Qiita](https://qiita.com/nezurika/items/47d2ffed4212bbab99f0)

[自分で描いた絵を手書きで css 化する遊び - Qiita](https://qiita.com/kotomo16/items/8c00178c7ae89052cb78)

[拝啓、CSS でドット絵を描きたくなったあの日(数週間前)の自分へ](https://zenn.dev/nedoko_dok0dko/articles/c00b941f10501f)

[【CSS イラスト】いろんな種類の団子を描いてみた - そららのクリエイティブログ](https://acchinosorara.hatenablog.jp/entry/css_dumplings)

[【CSS イラスト】ナムナムくんを描いてみた - そららのクリエイティブログ](https://acchinosorara.hatenablog.jp/entry/css_namunamu)

[css grid でドット絵を描こう 仕組み編](https://ebifry.jp/css/useless-css-grid/)
